(this["webpackJsonpbenga-buses"]=this["webpackJsonpbenga-buses"]||[]).push([[0],{30:function(e,t,o){},31:function(e,t,o){},32:function(e,t,o){},33:function(e,t,o){},34:function(e,t,o){},52:function(e,t,o){},57:function(e,t,o){"use strict";o.r(t);var r=o(1),s=o.n(r),c=o(23),n=o.n(c),i=(o(30),o(31),o(14)),a=o.n(i),d=(o(32),o(9));o(33),o(34);const u=new Map;u.set("201B",["https://drive.google.com/uc?id=18ZHkNrscot8i8005DyT1fA1nuETHfX-X"," https://drive.google.com/uc?id=133SvrEny6XfaL7wFI9z0g8Jqe2A-xPEj"," https://drive.google.com/uc?id=14QDqtOviDw9tJTa_VJ-M94hQGd5tfAKk"," https://drive.google.com/uc?id=1OPttcK5t84jzkZ1_buTBUZtMlMXs-GQ9"," https://drive.google.com/uc?id=1pMBukIBDCkLMDhbqUpOy5YajDUMA0yZJ"," https://drive.google.com/uc?id=17qekfNY1fFo6ainBEqKvkcgLLfm7g9yJ"," https://drive.google.com/uc?id=1iQpxo7ZfF2w_5H0DzqhNXH1NLsly3KU_"," https://drive.google.com/uc?id=12yN-lFWQkeFRXOVaQ-WDiiewpl7D042E"]),u.set("201",["https://drive.google.com/uc?id=18p8EqKDQRiQzqbNHa5V_7oDBKsR1lKOo","https://drive.google.com/uc?id=1axQ3RA_usWb0X-B57GtgvbB7vwAB70xL","https://drive.google.com/uc?id=18P_y48QvpC07y0p3HMOftdaP1WJXnK0M","https://drive.google.com/uc?id=1npf8z0915xTOdNrR2TGVhXlsDQrZx4TI","https://drive.google.com/uc?id=1muiLMj8hqGR1Pm1OwVLoX_FU6o1B6ngq","https://drive.google.com/uc?id=1QGyFADcVf2um2vWe6KfzLeB5ygH9x7Xz","https://drive.google.com/uc?id=1PWXs2Vebbbojj2kb6THcOowh7EyMnqjS","https://drive.google.com/uc?id=1g4aI_QKa2co9ViuStb_4bT-SUBKhim_Z"]),u.set("201C",["https://drive.google.com/uc?id=1KgDkmzrhcflDVbpb16DEq3yeD5ou_ZIC","https://drive.google.com/uc?id=1WW3uT5GhZQpQ9PQqVRKOJ6wbUHXjz162","https://drive.google.com/uc?id=1N74FUKTEyUkd0sx5QcGJNOmdbAwgO8ni","https://drive.google.com/uc?id=17AjaVw-psNKbbUw071KbCyG83MYks8ll","https://drive.google.com/uc?id=1zGzF8eP3TljK5XZB18X60YNbGlTNL85y","https://drive.google.com/uc?id=10o0_UPZrYPscva0fqQWpUrR7emNBzr18","https://drive.google.com/uc?id=1HaKNwXaq-cWywh6uaqBPxPMrd485D5Pz","https://drive.google.com/uc?id=1tTqHz1sYsdw4O_bY8oRfesvCx6pLr939"]),u.set("201D",["https://drive.google.com/uc?id=1qy4N7UbJIPDGuJ7zfOMo0fjm8MCcUGUX","https://drive.google.com/uc?id=1Evltlo5VXOV93_A633jwzSdP391Ht7Wg","https://drive.google.com/uc?id=1xO7rFsg0Cf5_8NOX4MEneKLNVkNEzC9y","https://drive.google.com/uc?id=1B_cCIWmhMTnDvG6cE7URLh7mP-S5cZfu","https://drive.google.com/uc?id=1oXo5-5yyfWMjY2himirSl7BoX59hs7hy","https://drive.google.com/uc?id=11Kkepu-QR2o5U1NmMlJlPVTvhabY2Mmv","https://drive.google.com/uc?id=1Fr2KeDis4XY6qTZafV9_tQaE9KVS1SBi","https://drive.google.com/uc?id=1et4wM96JujdZZqRhvErmgwxLOcTohAwh"]),u.set("201G",["https://drive.google.com/uc?id=1lTDc7ZCYyMmwICq_r7_VxC2Z8eb9WlpR","https://drive.google.com/uc?id=1W-XTF8zGVAoNrYjLDFVi98ODjAkKSGV2","https://drive.google.com/uc?id=1s29Gd0OZd198vRnmxVx0v7VnTb_6O21e","https://drive.google.com/uc?id=1I_gOfKw03bccCIxNXQ8ZQcNBXokTFqGs","https://drive.google.com/uc?id=1DdwX7S6qrF1tEBmWS-YZIa1rop8MFJNC","https://drive.google.com/uc?id=1mKx-G8zMp_oAo5EZpcLVsjAl1gMyMRi1","https://drive.google.com/uc?id=1qlDMHUjher38rrBVkDv_T8daqwc7m1kI","https://drive.google.com/uc?id=1MCCGetftZACwGIQ05uPji8rA1GLu5yjl"]),u.set("201K",["https://drive.google.com/uc?id=1LGjz4ACz1JeaicLrBCOBPnZXwwdsNyOA","https://drive.google.com/uc?id=1qdrI40Pw8OmusphxxRyjdMoBfsgjsG3k","https://drive.google.com/uc?id=1FUcPuPqvrm9VTOmjJVam799A3geqQz96","https://drive.google.com/uc?id=1K88O5j3mfo8S91WSN7Ao7x1HnRN8OKtf","https://drive.google.com/uc?id=1fZ_b1k40EqNJtfh54L4eKnBd8wejtgCx","https://drive.google.com/uc?id=1PJAd4t8D9DR_pwlojVj9462e-tYx9vs6","https://drive.google.com/uc?id=1Wf7eJ7poOUeD93nDLoqnjfaOWZE8Yjpj","https://drive.google.com/uc?id=1gs6oFJv3efU4w99w-phIwGpynDO1wgXV"]),u.set("201M",["https://drive.google.com/uc?id=1s1KIoRgLhGrr8wrhllp-Df4eqnvvxLnY","https://drive.google.com/uc?id=1h3Wddlp9Lc5TsGMke8pTViXQAs8PRlPY","https://drive.google.com/uc?id=14DRUi8X_hXCUPS48m-vdXLg97tg9Fe-t","https://drive.google.com/uc?id=1AWOmA6RBFuTRxBDgEXli7k-oaLnCIjSc","https://drive.google.com/uc?id=1SSoP7QpOJTmHoFX0jfw1tIER9Z1v_JCn","https://drive.google.com/uc?id=10SBvXZtr8Uc5Z3Etmm8c7F-e-kM7xN9Z","https://drive.google.com/uc?id=1i61AqjEkiL_QnJXVXh18T6x440tJqz04","https://drive.google.com/uc?id=18cSxa7kU6ymA4gt9SV1Hvdyubvz_QWr3"]),u.set("201Q",["https://drive.google.com/uc?id=1xWlMGCD2Dz_4MaShIkrbzrWa5jbVylc1","https://drive.google.com/uc?id=12KZsvseBodqufULYurOSIv4ynufcvZ3U","https://drive.google.com/uc?id=1VNP4O5n7N4-c2OeznMhAXNDGFr1K4H4i","https://drive.google.com/uc?id=1nIbsX9UVZQc0POccrlf5XYh-RmdeTCh7","https://drive.google.com/uc?id=18c7iV_0Z-EB80btmkpSMmQnKIoxEGiBe","https://drive.google.com/uc?id=1BXmEnGBauLo52Uu_n-sPo3zDbxcHLQ8r","https://drive.google.com/uc?id=1v9aW86pPQ7ZYvmw_-zF4alxspCrPLgbK","https://drive.google.com/uc?id=1fy37QIbI9tFUHdSqspY1me-vN5S6dMwN"]);var l=u,g=o(24),m=o.n(g),p=o(2);var h=function(e){var t=[0];if(null!=e.busNo&&l.get(e.busNo)){t=l.get(e.busNo);return Object(p.jsx)("div",{className:"group-4",children:Object(p.jsx)("div",{className:"slider",children:Object(p.jsx)(m.a,{arrows:!1,centreMode:!0,centerPadding:"20%",dots:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1,children:t.map((function(e,t){return Object(p.jsx)("div",{className:"slide",children:Object(p.jsx)("img",{src:e})},t)}))})})})}return Object(p.jsx)("div",{children:Object(p.jsx)("h3",{children:"bus number is null"})})};a.a.accessToken="pk.eyJ1IjoicHJhbm1hbjExMTAiLCJhIjoiY2trdmg3dDNqMjBidTJ1czFjZnJhdXczbCJ9.iiySDdrwpE0p-hFUAKtU7Q";var b=()=>{const e=Object(r.useRef)(null),[t,o]=Object(r.useState)(null),[s,c]=Object(r.useState)(77.5985813140869),[n,i]=Object(r.useState)(12.943333543267157),[u,l]=Object(r.useState)(12),[g,m]=Object(r.useState)(!1),[b,v]=Object(r.useState)(!1);return Object(r.useEffect)((()=>{const t=new a.a.Map({container:e.current,style:"mapbox://styles/pranman1110/ckljhzuuy0ibx17qo8ulkjx1m",center:[s,n],zoom:u});t.addControl(new a.a.NavigationControl,"top-right"),t.on("move",(()=>{c(t.getCenter().lng.toFixed(4)),i(t.getCenter().lat.toFixed(4)),l(t.getZoom().toFixed(2))}));var r,g={type:"FeatureCollection",features:[{type:"Feature",properties:{description:"random point to iterate",icon:"bus"},geometry:{type:"Point",coordinates:[0,0]}}]},p={type:"FeatureCollection",features:[{type:"Feature",properties:{description:"random point to iterate",icon:"bus"},geometry:{type:"Point",coordinates:[0,0]}}]},h={type:"FeatureCollection",features:[{type:"Feature",properties:{description:"random point to iterate",icon:"bus"},geometry:{type:"Point",coordinates:[0,0]}}]},j=3e3,f=0,y=0,O=!1,x=0;return t.on("load",(function(){t.addSource("currRoute",{type:"geojson",data:p}),t.addLayer({id:"currRoute",type:"line",source:"currRoute",layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"#888","line-width":5}}),t.addSource("currstops",{type:"geojson",data:h}),t.addSource("point",{type:"geojson",data:g}),t.addLayer({id:"point",source:"point",type:"symbol",layout:{"icon-size":2,"icon-image":"bus","icon-rotate":["get","bearing"],"icon-rotation-alignment":"map","icon-allow-overlap":!0,"icon-ignore-placement":!0}}),t.addSource("busstops",{type:"geojson",data:"https://pranman11.github.io/bus-data/busstops.geojson"}),t.addLayer({id:"busstops",source:"busstops",type:"symbol",layout:{"icon-size":2.5,"icon-image":"bus","icon-rotate":["get","bearing"],"icon-rotation-alignment":"map","icon-allow-overlap":!0,"icon-ignore-placement":!0}});var e=new a.a.Popup;function c(e){var i=e.features[0].geometry.coordinates[x>=j?x-1:x],a=e.features[0].geometry.coordinates[x>=j?x:x+1];if(!i||!a||f===i&&y===a)return x=0,console.log("journey ended"),t.flyTo({center:[s,n],zoom:12,speed:.5}),cancelAnimationFrame(r),t.getSource("point").setData(p),t.getSource("currRoute").setData(p),v(!1),m(!1),void o(null);f=i,y=a,g.features[0].geometry.coordinates=e.features[0].geometry.coordinates[x],g.features[0].properties.bearing=d.bearing(d.point(i),d.point(a)),t.getSource("point").setData(g),t.panTo(i,{duration:100}),x<j&&(r=requestAnimationFrame((()=>c(e)))),x+=1}t.on("click","busstops",(i=>{if(!b){v(!0),t.getCanvas().style.cursor="pointer",console.log(i.features[0].properties),o(i.features[0].properties.busNo),j=i.features[0].properties.steps;var a=i.features[0].properties.busNo,u=i.features[0].properties.description,l=i.features[0].geometry.coordinates.slice(),g=i.features[0].properties.busRouteUrl,h=new Audio(i.features[0].properties.journeySoundUrl),f=new Audio(i.features[0].properties.journeyReturnUrl),y=new Audio(i.features[0].properties.soundUrl);for(y.play();Math.abs(i.lngLat.lng-l[0])>180;)l[0]+=i.lngLat.lng>l[0]?360:-360;e.setLngLat(i.lngLat).setHTML("<p><strong>Bus: "+a+"<br>Bus Stop: "+u+'</strong></p><button id="startjourney-'+a+'">Start Journey</button><br><br><button id="startReturnjourney-'+a+'">Start Return Journey</button>').addTo(t),e.on("close",(function(e){y.pause()})),document.getElementById("startjourney-"+a).addEventListener("click",(()=>{t.getSource("currRoute").setData(p),e.remove(),console.log(this);var i=null;h.onloadeddata=function(){document.getElementById("mute-button").addEventListener("click",(()=>{O?(console.log(O),h.volume=1):(console.log(O),h.volume=0,O=!0,console.log(O))})),document.getElementById("refresh-map").addEventListener("click",(()=>{x=0,console.log("journey ended"),t.flyTo({center:[s,n],zoom:12,speed:.5}),cancelAnimationFrame(r),t.getSource("point").setData(p),t.getSource("currRoute").setData(p),h.pause(),v(!1),m(!1),o(null)})),y.pause(),h.play(),fetch(g).then((e=>e.json())).then((e=>{i=e,t.getSource("currRoute").setData(i.features[0]);var o;o=d.length(i.features[0]);var r=[];console.log(i.features[0].geometry.coordinates[0]),t.flyTo({center:i.features[0].geometry.coordinates[0],zoom:13,speed:.5});for(var s=0;s<o;s+=o/j){var n=d.along(i.features[0],s);r.push(n.geometry.coordinates)}i.features[0].geometry.coordinates=r,setTimeout((()=>c(i)),4e3),m(!0)})).catch((e=>{console.log(e)}))}})),document.getElementById("startReturnjourney-"+a).addEventListener("click",(()=>{t.getSource("currRoute").setData(p),e.remove(),console.log(this);var i=null;h.onloadeddata=function(){document.getElementById("mute-button").addEventListener("click",(()=>{O?(f.volume=1,O=!1):(f.volume=0,O=!0)})),document.getElementById("refresh-map").addEventListener("click",(()=>{x=0,console.log("journey ended"),t.flyTo({center:[s,n],zoom:12,speed:.5}),cancelAnimationFrame(r),f.pause(),t.getSource("point").setData(p),t.getSource("currRoute").setData(p),v(!1),m(!1),o(null)})),y.pause(),f.play(),fetch(g).then((e=>e.json())).then((e=>{(i=e).features[0].geometry.coordinates.reverse(),t.getSource("currRoute").setData(i.features[0]);var o;o=d.length(i.features[0]);var r=[];console.log(i.features[0].geometry.coordinates[0]),t.flyTo({center:i.features[0].geometry.coordinates[0],zoom:13,speed:.5});for(var s=0;s<o;s+=o/j){var n=d.along(i.features[0],s);r.push(n.geometry.coordinates)}i.features[0].geometry.coordinates=r,setTimeout((()=>c(i)),4e3),m(!0)})).catch((e=>{console.log(e)}))}}))}}))})),()=>t.remove()}),[]),Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:"anecdote-modal ".concat(g?"Show":""),children:Object(p.jsx)(h,{busNo:t})}),Object(p.jsx)("div",{className:"map-container",ref:e})]})},v=o(8),j=o(11);const f=[{title:"Recordings",path:"/music",icon:Object(p.jsx)(v.d,{}),cName:"nav-text"},{title:"Contact",path:"/about",icon:Object(p.jsx)(v.c,{}),cName:"nav-text"}];o(52);var y=o(0);var O=function(){const[e,t]=Object(r.useState)(!1),o=()=>t(!e);return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(y.b.Provider,{value:{color:"#fff"},children:[Object(p.jsx)("div",{className:"navbar",children:Object(p.jsx)(j.b,{to:"#",className:"menu-bars",children:Object(p.jsx)(v.a,{onClick:o})})}),Object(p.jsx)("nav",{className:"nav-menu",children:Object(p.jsxs)("ul",{className:"nav-menu-items",onClick:o,children:[Object(p.jsx)("li",{className:"navbar-toggle",children:Object(p.jsx)(j.b,{to:"/benga-buses",className:"menu-bars",children:Object(p.jsx)(v.b,{})})}),f.map(((e,t)=>Object(p.jsx)("li",{className:e.cName,children:Object(p.jsx)(j.b,{to:e.path,children:e.icon})},t))),Object(p.jsxs)("div",{className:"map-menu",children:[Object(p.jsx)("li",{className:"map-menu-item",children:Object(p.jsx)(v.f,{id:"mute-button"})}),Object(p.jsx)("li",{className:"map-menu-item",children:Object(p.jsx)(v.e,{id:"refresh-map"})})]})]})})]})})},x=o(3);var w=function(){return Object(p.jsx)("div",{children:Object(p.jsx)("h1",{children:"Music"})})};var S=function(){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h6",{children:"201 BUS PROJECT"}),Object(p.jsx)("p",{children:"Having witnessed the stillness of Bangalore during lockdown in 2020, the 201 Bus Project began as a  means to archive  the movement of the city by recording the sounds of the BMTC buses. The project, funded by the India Foundation for Arts (IFA) 560 grant, records  the sounds of the 201 bus series. These sounds were used  to create a sound map and sound album. By using the medium of  sound, this project seeks to navigate the boundaries between personal and shared, familiar and unfamiliar and create a sense of togetherness while being apart as we experience the pandemic. The 201 buses pass through the east and south of Bangalore. There are approximately 25 bus routes under the 201 series. Due to the constraints caused by the pandemic only 8 routes of the 201 series were recorded. The recordings were taken through the course of October 2020 to February 2021. If you want to collaborate or contribute to mapping the sounds of Bangalore please get in touch via email. rukmini.swaminathan@gmail.com Sound Album :https://soundcloud.com/rukmini-swaminathan/sets/201buses To hear the longer recordings: Bus stops: https://drive.google.com/drive/folders/1nklaTVdsE-ZOOMZzTOm1Hsc9WkokESsy?usp=sharing Bus Recordings: https://drive.google.com/drive/folders/1l4rrbEZ8cDkiZHRtmOodcTsS5g9zQCeZ?usp=sharing Sound: Recorded by Rukmini Swaminathan Illustrations: Arun Swaminathan Web Design: Pranav Manglani"})]})};var N=function(){return Object(p.jsx)("div",{className:"App",children:Object(p.jsxs)(j.a,{children:[Object(p.jsx)(O,{}),Object(p.jsxs)(x.c,{children:[Object(p.jsx)(x.a,{path:"/benga-buses",component:Object(x.f)(b)}),Object(p.jsx)(x.a,{path:"/about",component:Object(x.f)(S)}),Object(p.jsx)(x.a,{path:"/music",component:Object(x.f)(w)})]})]})})},T=function(e){e&&e instanceof Function&&o.e(3).then(o.bind(null,58)).then((function(t){var o=t.getCLS,r=t.getFID,s=t.getFCP,c=t.getLCP,n=t.getTTFB;o(e),r(e),s(e),c(e),n(e)}))};n.a.render(Object(p.jsx)(s.a.StrictMode,{children:Object(p.jsx)(N,{})}),document.getElementById("root")),T()}},[[57,1,2]]]);
//# sourceMappingURL=main.253a82db.chunk.js.map