(this["webpackJsonpbenga-buses"]=this["webpackJsonpbenga-buses"]||[]).push([[0],{25:function(e,t,n){},26:function(e,t,n){},27:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n.n(a),o=n(19),c=n.n(o),r=(n(25),n(26),n(13)),i=n.n(r),l=(n(27),n(11)),u=(n(28),n(29),n(2));var b=function(){return Object(u.jsxs)("div",{className:"group-4",children:[Object(u.jsx)("img",{className:"img-20210213-wa0006-1",src:"img-20210213-wa0006-1.png"}),Object(u.jsx)(j,{title:"ANECDOTE",line6:"line-6.png"})]})};function j(e){const{title:t,line6:n}=e;return Object(u.jsxs)("div",{className:"group-5",children:[Object(u.jsx)("div",{className:"flex-col",children:Object(u.jsxs)("div",{className:"flex-row",children:[Object(u.jsx)("h1",{className:"title roboto-black-mercury-40px",children:t}),Object(u.jsx)("div",{className:"rectangle-2"})]})}),Object(u.jsx)("img",{className:"line-6",src:n})]})}n(31);var d=function(){return Object(u.jsx)(m,{...p})};function m(e){const{overlapGroup:t,line7:n,busStop11228:a,line8:s,busStop21229:o,line9:c,busStop312210:r,line10:i}=e;return Object(u.jsx)("div",{className:"group-8",children:Object(u.jsx)("div",{className:"overlap-group rectangleStops"})})}const p={overlapGroup:"https://anima-uploads.s3.amazonaws.com/projects/60754f9e3840f78fc11beaff/releases/6075a151f28b6b1d17a1feb0/img/rectangle-9@2x.png",line7:"https://anima-uploads.s3.amazonaws.com/projects/60754f9e3840f78fc11beaff/releases/6075a151f28b6b1d17a1feb0/img/line-7@2x.png",busStop11228:"Bus stop 1",line8:"https://anima-uploads.s3.amazonaws.com/projects/60754f9e3840f78fc11beaff/releases/6075a151f28b6b1d17a1feb0/img/line-7@2x.png",busStop21229:"Bus stop 2",line9:"https://anima-uploads.s3.amazonaws.com/projects/60754f9e3840f78fc11beaff/releases/6075a151f28b6b1d17a1feb0/img/line-7@2x.png",busStop312210:"Bus stop 3",line10:"https://anima-uploads.s3.amazonaws.com/projects/60754f9e3840f78fc11beaff/releases/6075a151f28b6b1d17a1feb0/img/line-10@2x.png"};var f=n(8),g=n(10);const h=[{title:"Recordings",path:"/music",icon:Object(u.jsx)(f.d,{}),cName:"nav-text"},{title:"Routes",path:"/routes",icon:Object(u.jsx)(f.e,{}),cName:"nav-text"},{title:"Contact",path:"/about",icon:Object(u.jsx)(f.c,{}),cName:"nav-text"}];n(32);var x=n(0);var v=function(){const[e,t]=Object(a.useState)(!1),n=()=>t(!e);return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(x.b.Provider,{value:{color:"#fff"},children:[Object(u.jsx)("div",{className:"navbar",children:Object(u.jsx)(g.b,{to:"#",className:"menu-bars",children:Object(u.jsx)(f.a,{onClick:n})})}),Object(u.jsx)("nav",{className:"nav-menu",children:Object(u.jsxs)("ul",{className:"nav-menu-items",onClick:n,children:[Object(u.jsx)("li",{className:"navbar-toggle",children:Object(u.jsx)(g.b,{to:"#",className:"menu-bars",children:Object(u.jsx)(f.b,{})})}),h.map(((e,t)=>Object(u.jsx)("li",{className:e.cName,children:Object(u.jsx)(g.b,{to:e.path,children:e.icon})},t)))]})})]})})},O=n(3);var y=function(){return Object(u.jsx)("div",{children:Object(u.jsx)("h1",{children:"Music"})})};var N=function(){return Object(u.jsx)("div",{children:Object(u.jsx)("h1",{children:"About"})})};i.a.accessToken="pk.eyJ1IjoicHJhbm1hbjExMTAiLCJhIjoiY2treHo3dzB5MGFlZDJvbzQxMDA4cGFxeiJ9.TR0TinMi5Fn3hd8JmF_yfQ";var S=()=>{const e=Object(a.useRef)(null);var t={type:"FeatureCollection",features:[{type:"Feature",properties:{description:"Anecdote and stuff",icon:"bus"},geometry:{type:"Point",coordinates:[77.55469,12.94438]}}]};const[n,s]=Object(a.useState)(77.6517347),[o,c]=Object(a.useState)(12.9679711),[r,j]=Object(a.useState)(13),[m,p]=Object(a.useState)(!1);return Object(a.useEffect)((()=>{const a=new i.a.Map({container:e.current,style:"mapbox://styles/pranman1110/ckljhzuuy0ibx17qo8ulkjx1m",center:[n,o],zoom:r});var u=null,b=null;fetch("https://pranman11.github.io/benga-buses/201.geojson").then((e=>e.json())).then((function(e){console.log(e),u=e,b=l.length(u.features[0]);for(var t=[],n=0;n<b;n+=b/d){var a=l.along(u.features[0],n);t.push(a.geometry.coordinates)}u.features[0].geometry.coordinates=t})).catch((function(e){console.log(e)})),a.addControl(new i.a.NavigationControl,"top-right"),a.on("move",(()=>{s(a.getCenter().lng.toFixed(4)),c(a.getCenter().lat.toFixed(4)),j(a.getZoom().toFixed(2))}));var d=1e4,m=0;return a.on("load",(function(){a.addSource("route0001",{type:"geojson",data:u}),a.addSource("point",{type:"geojson",data:t}),a.addLayer({id:"point",source:"point",type:"symbol",layout:{"icon-size":2,"icon-image":"bus","icon-rotate":["get","bearing"],"icon-rotation-alignment":"map","icon-allow-overlap":!0,"icon-ignore-placement":!0}});var e=new i.a.Popup;function n(){var e=u.features[0].geometry.coordinates[m>=d?m-1:m],s=u.features[0].geometry.coordinates[m>=d?m:m+1];e&&s&&(t.features[0].geometry.coordinates=u.features[0].geometry.coordinates[m],t.features[0].properties.bearing=l.bearing(l.point(e),l.point(s)),a.getSource("point").setData(t),a.panTo(e,{duration:100}),m<d&&requestAnimationFrame(n),m+=1)}function s(){a.flyTo({center:t.features[0].geometry.coordinates,zoom:16,speed:.5}),setTimeout(n,2e3),p(!0),e.remove()}a.on("click","point",(function(n){e.setLngLat(t.features[0].geometry.coordinates).setHTML('<strong>Srinagar Bus Stop</strong><p>Srinagar Bus Stop, 18, 17th Main Rd, Raghavendra Block, Dasarhalli, Srinagar, Banashankari, Bengaluru, Karnataka</p><button id="start-journey">Start Journey</button>').addTo(a),document.getElementById("start-journey").addEventListener("click",s)}))})),()=>a.remove()}),[]),Object(u.jsxs)("div",{children:[Object(u.jsxs)(g.a,{children:[Object(u.jsx)(v,{}),Object(u.jsxs)(O.c,{children:[Object(u.jsx)(O.a,{path:"/about",component:N}),Object(u.jsx)(O.a,{path:"/music",component:y})]})]}),Object(u.jsx)("div",{className:"anecdote-modal ".concat(m?"Show":""),children:Object(u.jsx)(b,{})}),Object(u.jsx)("div",{className:"stops-modal ".concat(m?"Show":""),children:Object(u.jsx)(d,{})}),Object(u.jsx)("div",{className:"map-container",ref:e})]})};var w=function(){return Object(u.jsx)("div",{className:"App",children:Object(u.jsx)(S,{})})},F=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,40)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,o=t.getLCP,c=t.getTTFB;n(e),a(e),s(e),o(e),c(e)}))};c.a.render(Object(u.jsx)(s.a.StrictMode,{children:Object(u.jsx)(w,{})}),document.getElementById("root")),F()}},[[39,1,2]]]);
//# sourceMappingURL=main.2c8311d5.chunk.js.map